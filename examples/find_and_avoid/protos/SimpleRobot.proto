#VRML_SIM R2023a utf8
PROTO SimpleRobot [
    field SFVec3f            translation                  0 0 0                    # Is `Transform.translation`.
    field SFRotation         rotation                     0 0 1 0                  # Is `Transform.rotation`.
    field SFString           name                         "robot"                  # Is `Solid.name`.
    field SFString           controller                   "robot" 	              # Is `Robot.controller`.
    field SFBool             supervisor                   FALSE                    # Is `Robot.supervisor`.
    field SFBool             synchronization              TRUE                     # Is `Robot.synchronization`.
    field SFInt32            emitter_channel              1                        # Is `Emitter.channel`.
    field SFInt32            receiver_channel             1                        # Is `Receiver.channel`.
]
{
  DEF robot Robot {
	  translation IS translation
	  rotation IS rotation
	  children [
	    DistanceSensor {
	      translation 0.04 -0.015 0
	      rotation 0 0 1 -0.3
	      children [
		DEF SENSOR_R Shape {
		  appearance PBRAppearance {
		    baseColor 0.203922 0.396078 0.643137
		  }
		  geometry Box {
		    size 0.005 0.005 0.005
		  }
		}
	      ]
	      name "ps0"
	      boundingObject USE SENSOR_R
	    }
	    DistanceSensor {
	      translation 0.04 0.015 0
	      rotation 0 0 1 0.3
	      children [
		DEF SENSOR_L Shape {
		  appearance PBRAppearance {
		    baseColor 0.203922 0.396078 0.643137
		  }
		  geometry Box {
		    size 0.005 0.005 0.005
		  }
		}
	      ]
	      name "ps1"
	      boundingObject USE SENSOR_L
	    }
	    DEF BODY Shape {
	      appearance PBRAppearance {
		baseColor 0.937255 0.160784 0.160784
	      }
	      geometry Box {
		size 0.08 0.05 0.025
	      }
	    }
	    HingeJoint {
	      jointParameters HingeJointParameters {
		axis 0 1 0
		anchor 0 0.026 0
	      }
	      device [
		RotationalMotor {
		  name "left wheel motor"
		}
	      ]
	      endPoint DEF WHEEL1 Solid {
		translation 0 0.026 0
		rotation 1 -1.6634251647608453e-13 1.663430765709554e-13 1.5707996938995745
		children [
		  DEF WHEEL Shape {
		    appearance PBRAppearance {
		      baseColor 0 1 0
		    }
		    geometry Cylinder {
		      height 0.001
		      radius 0.0205
		    }
		  }
		]
		name "left wheel"
		contactMaterial "wheel"
		boundingObject USE WHEEL
		physics DEF WHEEL_PH Physics {
		}
	      }
	    }
	    HingeJoint {
	      jointParameters HingeJointParameters {
		axis 0 1 0
		anchor 0 -0.026 0
	      }
	      device [
		RotationalMotor {
		  name "right wheel motor"
		}
	      ]
	      endPoint DEF WHEEL2 Solid {
		translation 0 -0.026 0
		rotation 1 -1.2451554593528868e-13 1.245159651932054e-13 1.5707996938995745
		children [
		  USE WHEEL
		]
		name "right wheel"
		contactMaterial "wheel"
		boundingObject USE WHEEL
		physics USE WHEEL_PH
	      }
	    }
	    Solid {
	      translation 0.03 0 -0.01025
	      children [
		DEF CASTER Shape {
		  geometry Sphere {
		    radius 0.01
		  }
		}
	      ]
	      name "caster front"
	      contactMaterial "caster"
	      boundingObject USE CASTER
	    }
	    Solid {
	      translation -0.03 0 -0.01025
	      children [
		USE CASTER
	      ]
	      name "caster back"
	      contactMaterial "caster"
	      boundingObject USE CASTER
	    }
	    
	    
	    
	    DEF EPUCK_RECEIVER Receiver {
              channel IS receiver_channel
            }
            DEF EPUCK_EMITTER Emitter {
              channel IS emitter_channel
            }
	  ]
	  
	  
	  
	  name IS name
	  boundingObject USE BODY
	  physics Physics {
	  }
	  controller IS controller
	  supervisor IS supervisor
	  synchronization IS synchronization
	  
	}
}
